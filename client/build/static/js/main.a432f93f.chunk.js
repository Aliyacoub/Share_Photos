(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{59:function(t,e,a){},60:function(t,e,a){},93:function(t,e,a){"use strict";a.r(e);var s=a(0),n=a.n(s),r=a(27),o=a.n(r),c=(a(58),a(59),a(9)),i=a(10),l=a(12),h=a(11),d=(a(21),a(13)),j=a(8),b=(a(60),a(6)),u=a(7),m=a.n(u),p=a(20),O=a(23),x=a(95),g=a(1),v=function(t){Object(l.a)(a,t);var e=Object(h.a)(a);function a(t){var s;return Object(c.a)(this,a),(s=e.call(this,t)).logout=s.logout.bind(Object(b.a)(s)),s}return Object(i.a)(a,[{key:"logout",value:function(){localStorage.removeItem("token"),localStorage.removeItem("id"),m.a.defaults.headers.common={Authorization:""},this.props.history.push("/")}},{key:"render",value:function(){return localStorage.getItem("token")?Object(g.jsx)(O.a,{sticky:"top",collapseOnSelect:!0,expand:"md",bg:"light",variant:"light",className:"p-4 mb-4",children:Object(g.jsxs)(x.a,{children:[Object(g.jsx)(O.a.Brand,{children:" \u0645\u0639\u0631\u0636 \u0627\u0644\u0635\u0648\u0631 "}),Object(g.jsx)(O.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(g.jsx)(O.a.Collapse,{id:"responsive-navbar-nav",children:Object(g.jsxs)(p.a,{className:"me-auto",children:[Object(g.jsx)(p.a.Link,{as:d.b,to:"/",children:" \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"}),Object(g.jsx)(p.a.Link,{as:d.b,to:"/UserPage",children:" \u0635\u0641\u062d\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 "}),Object(g.jsx)(p.a.Link,{as:d.b,to:"/post/create",children:" \u0627\u0636\u0627\u0641\u0629 \u0635\u0648\u0631\u0629 "}),Object(g.jsx)(p.a.Link,{href:"#logout",onClick:this.logout,children:"\u062a\u0633\u062c\u064a\u0644 \u062e\u0631\u0648\u062c"})]})})]})}):Object(g.jsx)(O.a,{sticky:"top",collapseOnSelect:!0,expand:"md",bg:"light ",variant:"light",className:"p-4",children:Object(g.jsxs)(x.a,{children:[Object(g.jsx)(O.a.Brand,{children:" \u0645\u0639\u0631\u0636 \u0627\u0644\u0635\u0648\u0631 "}),Object(g.jsx)(O.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(g.jsx)(O.a.Collapse,{id:"responsive-navbar-nav",children:Object(g.jsxs)(p.a,{className:"me-auto",children:[Object(g.jsx)(p.a.Link,{as:d.b,to:"/",children:" \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"}),Object(g.jsx)(p.a.Link,{as:d.b,to:"/Login",children:" \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 "}),Object(g.jsx)(p.a.Link,{as:d.b,to:"/Register",children:"\u062a\u0633\u062c\u064a\u0644 \u062d\u0633\u0627\u0628 \u062c\u062f\u064a\u062f "})]})})]})})}}]),a}(n.a.Component),f=Object(j.f)(v),C=a(53),k=a(96),y=a(52),N=a(99),S=a(28),I=a.n(S),w=function(t){Object(l.a)(a,t);var e=Object(h.a)(a);function a(t){var s;return Object(c.a)(this,a),(s=e.call(this,t)).addLike=function(t){var e=new I.a,a=s.getUserId();e.append("postId",t),e.append("userId",a),m()({method:"post",url:"/api/likes",data:e,headers:{"Content-Type":"multipart/form-data"}})},s.removeLike=function(t){var e=new I.a,a=s.getUserId();e.append("postId",t),e.append("userId",a),m()({method:"post",url:"/api/likes/remove",data:e,headers:{"Content-Type":"multipart/form-data"}})},s.handleLikeClick=function(t){var e=s.getUserId(),a=s.state.posts.find((function(e){return e._id===t})),n=s.state.posts.filter((function(e){return e._id!==t}));a.likes.some((function(t){return t===e}))?(s.removeLike(t),a.likes.pop(e)):(s.addLike(t),a.likes.push(e)),s.setState({posts:[].concat(Object(C.a)(n),[a])})},s.handleUnLikeClick=function(){return alert("\u0645\u0631\u062d\u0628\u0627 \u0628\u0643\n \u0627\u0644\u0631\u062c\u0627\u0621 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0627\u0648 \u0627\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628")},s.state={posts:[],error:"",isLoading:!0,likes:0},s}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.fetchPosts()}},{key:"fetchPosts",value:function(){var t=this;m.a.get("/api/posts").then((function(e){t.setState({posts:e.data,error:"",isLoading:!1})})).catch((function(e){var a,s;t.setState({error:null===e||void 0===e||null===(a=e.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message,isLoading:!1})}))}},{key:"getUserId",value:function(){return localStorage.getItem("_id")}},{key:"render",value:function(){var t=this,e=0;return this.state.isLoading?Object(g.jsx)("h4",{style:{color:"green"},children:"\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631"}):this.state.error?Object(g.jsx)("blockquote",{style:{color:"red"},children:this.state.error}):this.state.posts.length<1?Object(g.jsx)("h4",{style:{color:"red"},children:"  \u0644\u0627\u064a\u0648\u062c\u062f \u0635\u0648\u0631 \u0641\u064a \u0627\u0644\u0645\u0639\u0631\u0636"}):Object(g.jsx)(x.a,{children:Object(g.jsx)(k.a,{md:3,sm:2,xs:1,className:"my-5 post",children:this.state.posts.sort((function(t,e){return t._id.localeCompare(e._id)})).map((function(a){return 2===e?(e=0,Object(g.jsx)(y.a,{className:"mb-5",children:Object(g.jsxs)(N.a,{className:"text-right p-3",children:[Object(g.jsx)(N.a.Img,{variant:"top",src:"http://localhost:4000/".concat(a.author._id,"/").concat(a.profileImg),alt:"ali",className:"imge-card",style:{zIndex:1}}),Object(g.jsxs)(N.a.Body,{children:[Object(g.jsx)(N.a.Title,{className:"mb-4 mt-4",children:a.title.substr(0,30)}),Object(g.jsxs)(N.a.Text,{className:"card-text",children:[a.content.substr(0,30),Object(g.jsx)("span",{className:"span-dot",children:"..."})]})]}),Object(g.jsx)(d.b,{to:"/post/view/"+a._id,children:Object(g.jsx)("span",{className:"custom-btn",children:Object(g.jsx)("button",{className:"btn button-primary button-custom button-outline",children:"\u0627\u0642\u0631\u0623 \u0627\u0644\u0645\u0632\u064a\u062f"})})}),Object(g.jsx)("span",{className:"custom-btn",children:Object(g.jsxs)("button",{className:"btn button-primary button-outline  button-custom",onClick:function(){localStorage.getItem("token")&&localStorage.getItem("_id")?t.handleLikeClick(a._id):t.handleUnLikeClick()},children:[" \u0627\u0644\u0625\u0639\u062c\u0627\u0628\u0627\u062a  ",a.likes.length]})})]})},a._id)):(++e,Object(g.jsx)(y.a,{className:"mb-5",children:Object(g.jsxs)(N.a,{className:"text-right p-3",children:[Object(g.jsx)(N.a.Img,{variant:"top",src:"http://localhost:4000/".concat(a.author._id,"/").concat(a.profileImg),alt:"ali",style:{zIndex:1}}),Object(g.jsxs)(N.a.Body,{children:[Object(g.jsx)(N.a.Title,{className:"mb-4 mt-4",children:a.title.substr(0,30)}),Object(g.jsxs)(N.a.Text,{className:"card-text",children:[a.content.substr(0,30),Object(g.jsx)("span",{className:"span-dot",children:"..."})]})]}),Object(g.jsx)(d.b,{to:"/post/view/"+a._id,children:Object(g.jsx)("span",{className:"custom-btn",children:Object(g.jsx)("button",{className:"btn button-primary button-custom button-outline",children:"\u0627\u0642\u0631\u0623 \u0627\u0644\u0645\u0632\u064a\u062f"})})}),Object(g.jsx)("span",{className:"custom-btn",children:Object(g.jsxs)("button",{className:"btn button-primary button-outline  button-custom",onClick:function(){localStorage.getItem("token")&&localStorage.getItem("_id")?t.handleLikeClick(a._id):t.handleUnLikeClick()},children:[" \u0627\u0644\u0625\u0639\u062c\u0627\u0628\u0627\u062a  ",a.likes.length]})})]})},a._id))}))})})}}]),a}(n.a.Component),L=function(t){Object(l.a)(a,t);var e=Object(h.a)(a);function a(t){var s;return Object(c.a)(this,a),(s=e.call(this,t)).state={posts:[],error:"",isLoading:!0},s}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.fetchPosts()}},{key:"fetchPosts",value:function(){var t=this;m.a.get("/api/posts").then((function(e){t.setState({posts:e.data,error:"",isLoading:!1})})).catch((function(e){var a,s;t.setState({error:null===e||void 0===e||null===(a=e.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message,isLoading:!1})}))}},{key:"render",value:function(){var t=0;return this.state.isLoading?Object(g.jsx)("h4",{style:{color:"green"},children:"\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631"}):this.state.error?Object(g.jsx)("blockquote",{style:{color:"red"},children:this.state.error}):this.state.posts.length<1?Object(g.jsx)("h4",{style:{color:"red"},children:" \u0644\u0627\u064a\u0648\u062c\u062f \u0635\u0648\u0631 \u0644\u0643 \u0642\u0645 \u0628\u0625\u0636\u0627\u0641\u0629 \u0628\u0639\u0636 \u0627\u0644\u0635\u0648\u0631 "}):Object(g.jsx)(x.a,{children:Object(g.jsx)(k.a,{md:3,sm:2,xs:1,className:"my-5",children:this.state.posts.map((function(e){if(e.author._id===localStorage.getItem("_id"))return 2===t?(t=0,Object(g.jsx)(y.a,{className:"mb-5",children:Object(g.jsxs)(N.a,{className:"text-right p-3",children:[Object(g.jsx)(N.a.Img,{variant:"top",src:"http://localhost:4000/".concat(e.author._id,"/").concat(e.profileImg),className:"imge-card",alt:"ali"}),Object(g.jsxs)(N.a.Body,{children:[Object(g.jsx)(N.a.Title,{className:"mb-4 mt-4",children:e.title.substr(0,30)}),Object(g.jsxs)(N.a.Text,{children:[e.content.substr(0,30),Object(g.jsx)("span",{className:"span-dot",children:"..."})]})]}),Object(g.jsx)(d.b,{to:"/post/view/"+e._id,children:Object(g.jsx)("span",{className:"custom-btn",children:Object(g.jsx)("button",{className:"btn button-primary button-outline button-custom",children:"\u0627\u0642\u0631\u0623 \u0627\u0644\u0645\u0632\u064a\u062f"})})}),Object(g.jsx)("span",{className:"custom-btn",children:Object(g.jsxs)("button",{className:"btn button-primary button-outline button-custom",children:["\u0627\u0644\u0627\u0639\u062c\u0627\u0628 ",e.likes.length]})})]})},e._id)):(++t,Object(g.jsx)(y.a,{className:"mb-5",children:Object(g.jsxs)(N.a,{className:"text-right p-3",children:[Object(g.jsx)(N.a.Img,{variant:"top",src:"http://localhost:4000/".concat(e.author._id,"/").concat(e.profileImg),alt:"ali"}),Object(g.jsxs)(N.a.Body,{children:[Object(g.jsx)(N.a.Title,{className:"mb-4 mt-4",children:e.title.substr(0,30)}),Object(g.jsxs)(N.a.Text,{children:[e.content.substr(0,30),Object(g.jsx)("span",{className:"span-dot",children:"..."})]})]}),Object(g.jsx)(d.b,{to:"/post/view/"+e._id,children:Object(g.jsx)("span",{className:"custom-btn",children:Object(g.jsx)("button",{className:"btn button-primary button-outline button-custom",children:"\u0627\u0642\u0631\u0623 \u0627\u0644\u0645\u0632\u064a\u062f"})})}),Object(g.jsx)("span",{className:"custom-btn",children:Object(g.jsxs)("button",{className:"btn button-primary button-outline button-custom",children:["\u0627\u0644\u0627\u0639\u062c\u0627\u0628 ",e.likes.length]})})]})},e._id))}))})})}}]),a}(n.a.Component),P=a(98),_=a(97),E=function(t){Object(l.a)(a,t);var e=Object(h.a)(a);function a(t){var s;return Object(c.a)(this,a),s=e.call(this,t),localStorage.getItem("token")&&s.props.history.push("/"),s.onChangeEmail=s.onChangeEmail.bind(Object(b.a)(s)),s.onSubmit=s.onSubmit.bind(Object(b.a)(s)),s.renderError=s.renderError.bind(Object(b.a)(s)),s.onChangePassword=s.onChangePassword.bind(Object(b.a)(s)),s.state={email:"",password:"",error:""},s}return Object(i.a)(a,[{key:"onChangeEmail",value:function(t){this.setState({email:t.target.value,error:""})}},{key:"onChangePassword",value:function(t){this.setState({password:t.target.value,error:""})}},{key:"onSubmit",value:function(t){var e=this;t.preventDefault();var a={email:this.state.email,password:this.state.password};m.a.post("/api/auth",a).then((function(t){localStorage.setItem("token",t.data.token),localStorage.setItem("_id",t.data._id),m.a.defaults.headers.common={Authorization:t.data.token},e.props.history.push("/")})).catch((function(t){e.setState({error:t.response.data.message})}))}},{key:"renderError",value:function(){return this.state.error?Object(g.jsx)("blockquote",{children:this.state.error}):""}},{key:"render",value:function(){return Object(g.jsxs)(x.a,{className:"text-center",children:[Object(g.jsxs)(k.a,{children:[Object(g.jsx)("h5",{className:"mt-5 custom-text",children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"}),this.renderError()]}),Object(g.jsx)(k.a,{children:Object(g.jsxs)(P.a,{onSubmit:this.onSubmit,children:[Object(g.jsxs)(P.a.Group,{className:"mb-5 mt-5",controlId:"validationCustom01",children:[Object(g.jsx)(P.a.Label,{children:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a"}),Object(g.jsx)(P.a.Control,{type:"email",name:"email",value:this.state.email,onChange:this.onChangeEmail,placeholder:"\u0627\u062f\u062e\u0644 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",required:!0})]}),Object(g.jsxs)(P.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(g.jsx)(P.a.Label,{children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),Object(g.jsx)(P.a.Control,{type:"password",name:"password",value:this.state.password,onChange:this.onChangePassword,placeholder:" \u0627\u062f\u062e\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",required:!0})]}),Object(g.jsx)(_.a,{variant:"primary",type:"submit",children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"})]})})]})}}]),a}(n.a.Component),T=function(t){Object(l.a)(a,t);var e=Object(h.a)(a);function a(t){var s;return Object(c.a)(this,a),s=e.call(this,t),localStorage.getItem("token")&&s.props.history.push("/"),s.onChangeName=s.onChangeName.bind(Object(b.a)(s)),s.onChangeEmail=s.onChangeEmail.bind(Object(b.a)(s)),s.onSubmit=s.onSubmit.bind(Object(b.a)(s)),s.renderError=s.renderError.bind(Object(b.a)(s)),s.onChangeConfirmPassword=s.onChangeConfirmPassword.bind(Object(b.a)(s)),s.onChangePassword=s.onChangePassword.bind(Object(b.a)(s)),s.state={name:"",email:"",password:"",confirmPassword:"",errors:""},s}return Object(i.a)(a,[{key:"onChangeName",value:function(t){this.setState({name:t.target.value,error:""})}},{key:"onChangeEmail",value:function(t){this.setState({email:t.target.value,error:""})}},{key:"onChangePassword",value:function(t){this.setState({password:t.target.value,error:""})}},{key:"onChangeConfirmPassword",value:function(t){this.setState({confirmPassword:t.target.value,error:""})}},{key:"onSubmit",value:function(t){var e=this;t.preventDefault();var a={name:this.state.name,email:this.state.email,password:this.state.password,confirmPassword:this.state.confirmPassword};m.a.post("/api/register",a).then((function(t){localStorage.setItem("token",t.data.token),localStorage.setItem("_id",t.data._id),m.a.defaults.headers.common={Authorization:t.data.token},e.props.history.push("/")})).catch((function(t){e.setState({error:t.response.data.message})}))}},{key:"renderError",value:function(){return this.state.error?Object(g.jsx)("blockquote",{children:this.state.error}):""}},{key:"render",value:function(){return Object(g.jsxs)(x.a,{className:"text-center",children:[Object(g.jsxs)(k.a,{children:[Object(g.jsx)("h5",{className:"mt-5 custom-text",children:"\u0627\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u062c\u062f\u064a\u062f"}),this.renderError()]}),Object(g.jsx)(k.a,{children:Object(g.jsxs)(P.a,{onSubmit:this.onSubmit,children:[Object(g.jsxs)(P.a.Group,{className:"mb-5 mt-5",controlId:"formBasicEmail",children:[Object(g.jsx)(P.a.Label,{children:" \u0627\u0644\u0627\u0633\u0645 "}),Object(g.jsx)(P.a.Control,{type:"text",value:this.state.name,onChange:this.onChangeName,placeholder:"\u0627\u0644\u0625\u0633\u0645",required:!0})]}),Object(g.jsxs)(P.a.Group,{className:"mb-5 mt-5",controlId:"formBasicEmail",children:[Object(g.jsx)(P.a.Label,{children:"  \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a "}),Object(g.jsx)(P.a.Control,{type:"email",value:this.state.email,onChange:this.onChangeEmail,placeholder:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a",required:!0})]}),Object(g.jsxs)(P.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(g.jsx)(P.a.Label,{children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),Object(g.jsx)(P.a.Control,{type:"password",name:"password",value:this.state.password,onChange:this.onChangePassword,placeholder:" \u0627\u062f\u062e\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 ",required:!0})]}),Object(g.jsxs)(P.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(g.jsx)(P.a.Label,{children:" \u062a\u0627\u0643\u064a\u062f \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),Object(g.jsx)(P.a.Control,{type:"password",name:"confirmPassword",value:this.state.confirmPassword,onChange:this.onChangeConfirmPassword,placeholder:" \u062a\u0623\u0643\u064a\u062f \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 ",required:!0})]}),Object(g.jsx)(_.a,{variant:"primary",type:"submit",children:"\u0627\u0644\u062a\u0633\u062c\u064a\u0644"})]})})]})}}]),a}(n.a.Component),q=a(86),B=function(t){Object(l.a)(a,t);var e=Object(h.a)(a);function a(t){var s;return Object(c.a)(this,a),s=e.call(this,t),localStorage.getItem("token")||s.props.history.push("/Login"),s.onSubmit=s.onSubmit.bind(Object(b.a)(s)),s.renderError=s.renderError.bind(Object(b.a)(s)),s.onChangeTitle=s.onChangeTitle.bind(Object(b.a)(s)),s.onChangeContent=s.onChangeContent.bind(Object(b.a)(s)),s.onChangePhoto=s.onChangePhoto.bind(Object(b.a)(s)),s.state={title:"",content:"",isLoading:!0,likes:0,error:"",profileImg:"",selectedFile:null},s}return Object(i.a)(a,[{key:"onChangeContent",value:function(t){this.setState({content:t.target.value,error:""})}},{key:"onChangeTitle",value:function(t){this.setState({title:t.target.value,error:""})}},{key:"onChangePhoto",value:function(t){this.setState({profileImgPath:t.target.value,selectedFile:t.target.files[0]})}},{key:"renderError",value:function(){return this.state.error?Object(g.jsx)("blockquote",{children:this.state.error}):""}},{key:"onSubmit",value:function(t){var e=this;t.preventDefault();var a=new I.a;console.log(t),a.append("profileImg",this.state.selectedFile),a.append("title",this.state.title),a.append("content",this.state.content),a.append("count",this.state.count||0),m()({method:"post",url:"/api/posts",data:a,headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.props.history.push("/")})).catch((function(t){if(" "===t.title&&" "===t.content&&" "===t.profileImg)throw q(404);e.setState({error:t.response.data.message})}))}},{key:"render",value:function(){return this.state.isLoading?Object(g.jsxs)(x.a,{className:"text-center",children:[Object(g.jsxs)(k.a,{children:[Object(g.jsx)("h5",{className:"mt-5 custom-text",children:" \u0627\u0646\u0634\u0627\u0621 \u0635\u0648\u0631\u0629 \u062c\u062f\u064a\u062f\u0629"}),this.renderError()]}),Object(g.jsx)(k.a,{children:Object(g.jsxs)(P.a,{onSubmit:this.onSubmit,encType:"multipart/form-data",method:"POST",action:"/upload",children:[Object(g.jsxs)(P.a.Group,{className:"mb-5 mt-5",children:[Object(g.jsx)(P.a.Label,{children:" \u0623\u0636\u0641 \u0627\u0644\u0639\u0646\u0648\u0627\u0646  "}),Object(g.jsx)(P.a.Control,{type:"text",value:this.state.title,onChange:this.onChangeTitle,placeholder:"\u0627\u0636\u0641 \u0639\u0646\u0648\u0627\u0646 \u0644\u0644\u0635\u0648\u0631\u0629 ",required:!0})]}),Object(g.jsxs)(P.a.Group,{className:"mb-5 mt-5",children:[Object(g.jsx)(P.a.Label,{children:"  \u0623\u0636\u0641 \u0635\u0648\u0631\u0629 "}),Object(g.jsx)(P.a.Control,{type:"file",id:"image",name:"image",placeholder:"\u0627\u0636\u0641 \u0635\u0648\u0631\u0647",value:this.state.profileImgPath||"",onChange:this.onChangePhoto,required:!0})]}),Object(g.jsxs)(P.a.Group,{className:"mb-3 mt-5",children:[Object(g.jsx)(P.a.Label,{children:" \u0623\u0636\u0641 \u0627\u0644\u0648\u0635\u0641"}),Object(g.jsx)(P.a.Control,{as:"textarea",value:this.state.content,onChange:this.onChangeContent,placeholder:"\u0627\u0636\u0641 \u0648\u0635\u0641 \u0644\u0644\u0635\u0648\u0631\u0629 ",required:!0})]}),Object(g.jsx)(_.a,{variant:"primary",type:"submit",children:"\u0625\u0636\u0627\u0641\u0629"})]})})]}):Object(g.jsx)("h4",{style:{color:"green"},children:"\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631"})}}]),a}(n.a.Component),G=function(t){Object(l.a)(a,t);var e=Object(h.a)(a);function a(t){var s;return Object(c.a)(this,a),(s=e.call(this,t)).deletePost=s.deletePost.bind(Object(b.a)(s)),s.state={post:{},commentError:"",error:""},s}return Object(i.a)(a,[{key:"deletePost",value:function(){var t=this;m.a.delete("/api/posts/"+this.state.post._id).then((function(e){t.props.history.push("/")}))}},{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.id;m.a.get("/api/posts/"+e).then((function(e){t.setState({post:e.data,error:""})})).catch((function(e){t.setState({error:e.response.data.message})}))}},{key:"renderActions",value:function(){if(localStorage.getItem("token")&&localStorage.getItem("_id")===this.state.post.author._id)return Object(g.jsxs)("span",{children:[Object(g.jsx)(d.b,{to:"/post/edit/"+this.state.post._id,children:Object(g.jsx)(_.a,{variant:"primary",type:"submit",className:"m-3 p-3 ",children:"\u062a\u0639\u062f\u064a\u0644"})}),Object(g.jsx)(_.a,{variant:"primary",type:"submit",className:"m-3 p-3",onClick:this.deletePost,children:"\u062d\u0630\u0641"})]})}},{key:"render",value:function(){return this.state.error?Object(g.jsx)("blockquote",{children:this.state.error}):this.state.post.title?Object(g.jsx)(x.a,{children:Object(g.jsx)(k.a,{lg:2,className:"my-5 post",children:Object(g.jsxs)(y.a,{className:"mb-5",children:[Object(g.jsxs)(N.a,{className:"text-right p-3",children:[Object(g.jsx)(N.a.Img,{variant:"top",src:"http://localhost:4000/".concat(this.state.post.author._id,"/").concat(this.state.post.profileImg),alt:"ali",className:"img-view"}),Object(g.jsxs)(N.a.Body,{children:[Object(g.jsx)(N.a.Title,{className:"mb-4 mt-4",children:this.state.post.title}),Object(g.jsxs)(N.a.Text,{children:[" ",this.state.post.content]})]})]}),this.renderActions()]},this.state.post._id)})}):Object(g.jsx)("h4",{style:{color:"green"},children:" \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631 "})}}]),a}(n.a.Component),D=function(t){Object(l.a)(a,t);var e=Object(h.a)(a);function a(t){var s;return Object(c.a)(this,a),s=e.call(this,t),localStorage.getItem("token")||s.props.history.push("/Login"),s.onChangeTitle=s.onChangeTitle.bind(Object(b.a)(s)),s.onSubmit=s.onSubmit.bind(Object(b.a)(s)),s.renderError=s.renderError.bind(Object(b.a)(s)),s.onChangeContent=s.onChangeContent.bind(Object(b.a)(s)),s.state={title:"",content:"",authorId:"",isLoading:!0,error:""},s}return Object(i.a)(a,[{key:"onChangeTitle",value:function(t){this.setState({title:t.target.value,error:""})}},{key:"onChangeContent",value:function(t){this.setState({content:t.target.value,error:""})}},{key:"onSubmit",value:function(t){var e=this;t.preventDefault();var a={title:this.state.title,content:this.state.content};m.a.put("/api/posts/"+this.props.match.params.id,a).then((function(t){e.props.history.push("/")})).catch((function(t){e.setState({error:t.response.data.message})}))}},{key:"componentDidMount",value:function(){var t=this;m.a.get("/api/posts/"+this.props.match.params.id).then((function(e){t.setState({title:e.data.title,content:e.data.content,authorId:e.data.author._id,isLoading:!1})}))}},{key:"renderError",value:function(){return this.state.error?Object(g.jsx)("blockquote",{children:this.state.error}):""}},{key:"render",value:function(){return this.state.isLoading?Object(g.jsx)("h4",{children:"\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0644\u0627\u0646\u062a\u0636\u0627\u0631"}):localStorage.getItem("_id")!==this.state.authorId?Object(g.jsx)("blockquote",{children:"\u062e\u0637\u0627 404"}):Object(g.jsxs)(x.a,{className:"text-center",children:[Object(g.jsxs)(k.a,{children:[Object(g.jsx)("h5",{className:"mt-5 custom-text",children:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0648\u0627\u0644\u0645\u062d\u062a\u0648\u0649"}),this.renderError()]}),Object(g.jsx)(k.a,{children:Object(g.jsxs)(P.a,{onSubmit:this.onSubmit,children:[Object(g.jsxs)(P.a.Group,{className:"mb-5 mt-5",controlId:"validationCustom01",children:[Object(g.jsx)(P.a.Label,{children:" \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0639\u0646\u0648\u0627\u0646"}),Object(g.jsx)(P.a.Control,{type:"text",value:this.state.title,onChange:this.onChangeTitle})]}),Object(g.jsxs)(P.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(g.jsx)(P.a.Label,{children:" \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u062d\u062a\u0648\u0649"}),Object(g.jsx)(P.a.Control,{as:"textarea",value:this.state.content,onChange:this.onChangeContent})]}),Object(g.jsx)(_.a,{variant:"primary",type:"submit",children:"\u062a\u0639\u062f\u064a\u0644"})]})})]})}}]),a}(n.a.Component),U=function(t){Object(l.a)(a,t);var e=Object(h.a)(a);function a(t){var s;Object(c.a)(this,a),s=e.call(this,t);var n=localStorage.getItem("token");return m.a.defaults.headers.common={Authorization:n},s}return Object(i.a)(a,[{key:"render",value:function(){return Object(g.jsx)(d.a,{children:Object(g.jsxs)("div",{children:[Object(g.jsx)(f,{}),Object(g.jsx)("div",{className:"container",children:Object(g.jsx)("div",{children:Object(g.jsxs)(j.c,{children:[Object(g.jsx)(j.a,{exact:!0,path:"/",component:w}),Object(g.jsx)(j.a,{path:"/Login",component:E}),Object(g.jsx)(j.a,{path:"/UserPage",component:L}),Object(g.jsx)(j.a,{path:"/Register",component:T}),Object(g.jsx)(j.a,{path:"/post/create",component:B}),Object(g.jsx)(j.a,{path:"/post/view/:id",component:G}),Object(g.jsx)(j.a,{path:"/post/edit/:id",component:D})]})})})]})})}}]),a}(s.Component),F=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,100)).then((function(e){var a=e.getCLS,s=e.getFID,n=e.getFCP,r=e.getLCP,o=e.getTTFB;a(t),s(t),n(t),r(t),o(t)}))};o.a.render(Object(g.jsx)(U,{}),document.getElementById("root")),F()}},[[93,1,2]]]);
//# sourceMappingURL=main.a432f93f.chunk.js.map